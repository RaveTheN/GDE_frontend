<div class="steppers-container row">
  <div class="col-md-12 col-lg-6 col-xxxl-6">
    <nb-card>
      <nb-card-body>
        <nb-stepper #stepper>
          <nb-step [stepControl]="firstForm" label="First step">
            <form
              [formGroup]="firstForm"
              (ngSubmit)="onFirstSubmit()"
              class="step-container"
            >
              <p class="lorem">Step 1</p>
              <div class="input-group">
                <input
                  type="text"
                  placeholder="Enter your name"
                  class="form-control"
                  formControlName="firstCtrl"
                  [ngClass]="{
                    'form-control-danger':
                      firstForm.invalid &&
                      (firstForm.dirty || firstForm.touched)
                  }"
                />
              </div>
              <button nbButton nbStepperNext (click)="testFunction()">
                next
              </button>
            </form>
          </nb-step>
          <nb-step [stepControl]="secondForm" label="Second step">
            <form
              [formGroup]="secondForm"
              (ngSubmit)="onSecondSubmit()"
              class="step-container"
            >
              <p class="lorem">Step 2</p>
              <div class="input-group">
                <input
                  type="text"
                  placeholder="Enter favorite movie"
                  class="form-control"
                  formControlName="secondCtrl"
                  [ngClass]="{
                    'form-control-danger':
                      secondForm.invalid &&
                      (secondForm.dirty || secondForm.touched)
                  }"
                />
              </div>
              <button nbButton nbStepperPrevious>prev</button>
              <button nbButton nbStepperNext>next</button>
            </form>
          </nb-step>
          <nb-step [stepControl]="thirdForm" label="Third step">
            <div class="map-container">
              <div class="map-frame">
                <div id="map"></div>
              </div>
            </div>

            <button nbButton nbStepperPrevious>prev</button>
            <button nbButton (click)="viewMap()">map</button>
            <button nbButton nbStepperNext routerLink="/layers">Confirm</button>
          </nb-step>
          <nb-step [stepControl]="thirdForm" [hidden]="true" label="Third step">
            <div class="step-container">
              <h3>Wizard completed!</h3>
              <button nbButton (click)="stepper.reset()">Try again</button>
            </div>
          </nb-step>
        </nb-stepper>
      </nb-card-body>
    </nb-card>
  </div>
</div>

<div>{{ message }}</div>
